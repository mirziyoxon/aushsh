<!doctype html>
<html lang="en">
<head>
  <script>
  document.addEventListener("DOMContentLoaded", function() {
    const ua = navigator.userAgent || navigator.vendor || window.opera;
    const isMobile = /android|avantgo|blackberry|iemobile|ipad|iphone|ipod|opera mini|mobile|windows phone/i.test(ua.toLowerCase());
    if (isMobile) {
      window.location.href = "https://m.unicorner.uz";
    }
  });
</script>
  <script>
  // Auto cache bust every 24 hours
  const version = new Date().toISOString().slice(0, 10);
  document.querySelectorAll('link[rel="stylesheet"], script[src]').forEach(tag => {
    const attr = tag.tagName === 'LINK' ? 'href' : 'src';
    const url = new URL(tag[attr], window.location.origin);
    url.searchParams.set('v', version);
    tag[attr] = url.toString();
  });
</script>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>The Unicorner Times</title>
  <meta name="description" content="Unicorner Times ‚Äî an independent digital platform exploring the crossroads of economics, innovation, design, and youth entrepreneurship in Central Asia and beyond.">
  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Literata:ital,wght@0,400;0,700;1,400&family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg:#ffffff;
      --text:#111;
      --muted:#6b6b6b;
      --accent:#222;
      --accent-2:#0b0b0b;
      --border:#e9e9e9;
      --max:1100px;
      --transition:200ms ease;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
      background:var(--bg);
      color:var(--text);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      line-height:1.6;
    }
    a{color:inherit;text-decoration:none}
    img{max-width:100%;display:block}

    .masthead{
      border-bottom:1px solid var(--border);
      background:rgba(255,255,255,0.92);
      position:sticky;top:0;z-index:50;
      backdrop-filter:blur(6px);
    }
    .mast-inner{
      max-width:var(--max);margin:0 auto;display:flex;align-items:center;gap:20px;padding:18px 20px;
    }
    .brand{
      font-family: 'Literata', Georgia, serif;
      font-weight:700;font-size:28px;letter-spacing:1px;color:var(--accent-2);
    }
    .tagline{font-size:13px;color:var(--muted);margin-left:6px}

    .nav-right{margin-left:auto;display:flex;align-items:center;gap:10px}
    .nav-right a{font-size:14px;color:var(--muted);padding:8px 10px;border-radius:6px}
    .nav-right a:hover{background:#fafafa;color:var(--accent)}

    .search-wrap{display:flex;align-items:center;gap:8px;border:1px solid var(--border);padding:6px;border-radius:8px}
    .search-input{border:0;outline:0;padding:6px 8px;font-size:14px;width:260px}
    .search-btn{background:transparent;border:0;padding:6px 8px;cursor:pointer}

    .page{
      max-width:var(--max);margin:28px auto;padding:0 20px;display:grid;grid-template-columns:1fr 320px;gap:28px;align-items:start
    }

    .hero{
      display:grid;grid-template-columns:1fr 1fr;gap:18px;align-items:stretch;margin-bottom:18px
    }
    .hero-hero{
      padding:34px 26px;background:#fff;border-radius:6px;border:1px solid var(--border);display:flex;flex-direction:column;justify-content:center;gap:16px;
    }
    .hero-hero h1{font-family:Literata, Georgia, serif;font-size:32px;margin:0;line-height:1.05}
    .hero-hero p{margin:0;color:var(--muted)}
    .hero-hero .meta{font-size:13px;color:var(--muted)}

    .hero-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:12px}
    .feat-card{border:1px solid var(--border);padding:12px;border-radius:6px;background:#fff}
    .feat-card h3{margin:6px 0;font-size:16px}
    .feat-card p{margin:0;color:var(--muted);font-size:13px}

    .articles{display:grid;grid-template-columns:repeat(2,1fr);gap:18px}
    .card{background:#fff;border:1px solid var(--border);padding:16px;border-radius:6px;display:flex;gap:14px;align-items:flex-start;transition:transform 180ms,var(--transition)}
    .card:hover{transform:translateY(-6px)}
    .card .thumb{width:140px;height:90px;background:#f2f2f2;border-radius:4px;flex-shrink:0}
    .card h4{margin:0 0 6px 0;font-size:16px}
    .card p{margin:0;color:var(--muted);font-size:14px}

    .sidebar{position:relative}
    .side-section{background:#fff;border:1px solid var(--border);padding:16px;border-radius:6px;margin-bottom:16px}
    .side-section h4{margin:0 0 10px 0;font-size:15px}
    .category-list{display:flex;flex-wrap:wrap;gap:6px}
    .cat-btn{padding:8px 10px;border-radius:6px;border:1px solid var(--border);cursor:pointer;font-size:13px;background:transparent}
    .cat-btn.active{background:#111;color:#fff;border-color:#111}

    .reader{position:fixed;inset:0;background:rgba(0,0,0,0.6);display:none;align-items:flex-start;justify-content:center;padding:40px;z-index:60}
    .reader.show{display:flex}
    .reader-inner{background:#fff;max-width:900px;width:100%;max-height:90vh;overflow:auto;border-radius:8px;padding:32px;position:relative}
    .reader-inner h1{font-family:Literata, Georgia, serif;font-size:28px}
    .reader-inner .meta{color:var(--muted);font-size:13px;margin-bottom:18px}
    .reader-inner p{font-size:17px;color:var(--text);line-height:1.85}
    .reader-close{position:absolute;right:18px;top:18px;background:#111;color:#fff;border:0;padding:8px 12px;border-radius:6px;cursor:pointer}

    footer{margin-top:40px;border-top:1px solid var(--border);padding:28px 20px;background:transparent}
    .footer-inner{max-width:var(--max);margin:0 auto;display:flex;gap:20px;align-items:flex-start}
    .footer-left{flex:1}
    .footer-right{width:320px}

    .muted{color:var(--muted);font-size:13px}
    button{cursor:pointer}

    @media (max-width:1000px){
      .page{grid-template-columns:1fr 300px}
      .articles{grid-template-columns:1fr}
      .hero{grid-template-columns:1fr}
      .hero-grid{grid-template-columns:repeat(2,1fr)}
    }
    @media (max-width:760px){
      .mast-inner{padding:12px}
      .nav-right{display:none}
      .search-input{width:160px}
      .page{grid-template-columns:1fr;gap:14px;padding:12px}
      .hero-grid{grid-template-columns:1fr}
      .card{flex-direction:column}
      .card .thumb{width:100%;height:160px}
      .reader-inner{padding:18px}
    }

    /* Popup */
.popup {
  display: none;
  position: fixed;
  z-index: 999;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.6);
  justify-content: center;
  align-items: center;
}
.popup-content {
  background: #fff;
  padding: 30px;
  border-radius: 12px;
  box-shadow: 0 5px 20px rgba(0,0,0,0.2);
  text-align: center;
  max-width: 350px;
  width: 90%;
}
.popup-content h2 {
  color: #007bff;
}
.popup-content input {
  width: 100%;
  padding: 10px;
  margin: 8px 0;
  border: 1px solid #ddd;
  border-radius: 8px;
}
.popup-content button {
  background: #007bff;
  color: #fff;
  border: none;
  padding: 10px 20px;
  border-radius: 8px;
  cursor: pointer;
  transition: 0.3s;
}
.popup-content button:hover {
  background: #0056b3;
}

/* Profile icon */
.profile-icon {
  position: fixed;
  top: 20px;
  right: 25px;
  font-size: 28px;
  cursor: pointer;
}

/* Profile info box */
.profile-info {
  display: none;
  position: fixed;
  top: 60px;
  right: 25px;
  background: #fff;
  border: 1px solid #ddd;
  border-radius: 10px;
  padding: 15px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.2);
  width: 220px;
}
  </style>
</head>
<body>

  <header class="masthead">
    <div class="mast-inner">
      <div style="display:flex;align-items:center;gap:10px">
        <div class="brand">The Unicorner Times</div>
        <div class="tagline">Economics ‚Ä¢ Design ‚Ä¢ Innovation</div>
      </div>
<!-- Popup (Sign Up Modal) -->
<div id="signup-popup" class="popup">
  <div class="popup-content">
    <h2>Join Us üéâ</h2>
    <p>Sign up to become part of our community</p>
    <form id="signup-form">
      <input type="text" id="firstName" name="firstName" placeholder="First Name" required>
      <input type="text" id="lastName" name="lastName" placeholder="Last Name" required>
      <input type="email" id="email" name="email" placeholder="Email Address" required>
      <button type="submit">Sign Up</button>
    </form>
  </div>
</div>

<!-- Header Profile Icon -->
<header>
  <div id="profile-icon" class="profile-icon" title="Your Info">
    üë§
  </div>
</header>

<!-- Profile Info Box -->
<div id="profile-info" class="profile-info">
  <h3>Your Info</h3>
  <p><strong>Name:</strong> <span id="userName"></span></p>
  <p><strong>Email:</strong> <span id="userEmail"></span></p>
</div>
      <nav class="nav-right" aria-label="Main navigation">
        <a href="https://unicorner.uz" class="nav-link">Home</a>
        <a href="https://unicorner.uz/about" class="nav-link">About</a>
        <a href="https://book.unicorner.uz" class="nav-link">Books</a>
        <a href="https://research.unicorner.uz" class="nav-link">Research</a>
        <a href="https://blog.unicorner.uz" class="nav-link">Blog</a>
        <a href="https://article.unicorner.uz" class="nav-link">Articles</a>
        <a href="https://live.unicorner.uz" class="nav-link">Live</a>
        <a href="https://unicorner.uz/publish" class="nav-link">Publish</a>
      </nav>

      <div class="search-wrap" role="search" aria-label="Search articles">
        <input class="search-input" id="search" placeholder="Search articles, authors, topics..." aria-label="Search" />
        <button class="search-btn" id="search-btn" title="Search">üîé</button>
      </div>
    </div>
  </header>

  <main class="page">
    <section>
      <div class="hero">
        <div class="hero-hero" id="hero-hero">
          <div class="meta">Top story ‚Ä¢ Updated Oct 26, 2025</div>
          <h1 id="hero-title">How Micro-Decisions Build Giant Outcomes</h1>
          <p id="hero-lead">A deep look at small daily choices that compound to form careers, institutions, and nations ‚Äî and how designers and economists think about them.</p>
          <div style="display:flex;gap:10px;margin-top:8px;flex-wrap:wrap">
            <button class="cat-btn" data-cat="all">All</button>
            <button class="cat-btn" data-cat="economics">Economics</button>
            <button class="cat-btn" data-cat="design">Design</button>
            <button class="cat-btn" data-cat="innovation">Innovation</button>
            <button class="cat-btn" data-cat="opinion">Opinion</button>
          </div>
        </div>

        <div class="hero-grid" id="hero-grid"></div>
      </div>

      <div style="display:flex;gap:10px;align-items:center;margin-bottom:18px">
        <button id="btn-featured" class="cat-btn active">Featured</button>
        <button id="btn-latest" class="cat-btn">Latest</button>
        <div style="margin-left:auto;color:var(--muted);font-size:13px">Showing <span id="result-count">0</span> articles</div>
      </div>

      <section id="articles-list" class="articles"></section>
    </section>

    <aside class="sidebar">
      <div class="side-section" style="position:sticky;top:92px">
        <h4>Search tips</h4>
        <p class="muted">Type a word ‚Äî partial matches and similar words will match (fuzzy search enabled). Try <strong>consist</strong>, <strong>design</strong>, or <strong>founder</strong>.</p>
      </div>

      <div class="side-section">
        <h4>Sections</h4>
        <div class="category-list" id="category-list">
          <button class="cat-btn" data-cat="all">All</button>
          <button class="cat-btn" data-cat="economics">Economics</button>
          <button class="cat-btn" data-cat="design">Design</button>
          <button class="cat-btn" data-cat="innovation">Innovation</button>
          <button class="cat-btn" data-cat="opinion">Opinion</button>
          <button class="cat-btn" data-cat="startup">Startup</button>
        </div>
      </div>

      <div class="side-section">
        <h4>Featured authors</h4>
        <ul style="margin:0;padding:0;list-style:none">
          <li class="muted">‚Äî Aisha Rahmonova</li>
          <li class="muted">‚Äî Jamshid K.</li>
          <li class="muted">‚Äî Elena Petrova</li>
        </ul>
      </div>

      <div class="side-section">
        <h4>Subscribe</h4>
        <form id="side-subscribe">
          <input type="email" id="sub-email" placeholder="you@example.com" style="width:100%;padding:8px;border:1px solid var(--border);border-radius:6px;margin-bottom:8px" required>
          <button style="width:100%;padding:8px;border-radius:6px;border:0;background:#111;color:#fff">Subscribe</button>
        </form>
      </div>
    </aside>
  </main>

  <div class="reader" id="reader" aria-hidden="true">
    <div class="reader-inner" role="article" id="reader-inner">
      <button class="reader-close" id="reader-close">Close ‚úï</button>
      <div id="reader-content"><!-- JS will populate --></div>
    </div>
  </div>

  <footer>
    <div class="footer-inner">
      <div class="footer-left">
        <div style="font-weight:700">The Unicorner Times</div>
        <div class="muted" style="margin-top:6px">Exploring the intersection of economics, design and innovation. ¬© 2025 Unicorner Media.</div>
      </div>
      <div class="footer-right">
        <div style="display:flex;gap:8px;justify-content:flex-end">
          <a href="#">Privacy</a>
          <a href="#">Contact</a>
        </div>
      </div>
    </div>
  </footer>

  <script>
    // 12 demo articles
    const ARTICLES = [
      {id:0,title:"Why Simplicity Wins",category:"design",author:"Aisha Rahmonova",lead:"In design, business, and life ‚Äî less is often more.",body:"Simplicity is powerful because it removes the unnecessary and directs our focus to what truly matters. Complex plans, cluttered spaces, and overthinking create stress and confusion. This long-form article explores case studies from product design to urban planning, showing that simplicity scales when paired with strong incentives and good governance.",tags:["simplicity","design","systems"],img:"https://picsum.photos/seed/p0/800/480",featured:true},
      {id:1,title:"The Power of Consistency",category:"innovation",author:"Jamshid K.",lead:"Consistency beats intensity in the long run.",body:"Consistency is the bridge between goals and results. It‚Äôs not about working the hardest once, but about showing up again and again, even when progress feels slow. In this piece, we interview long-time practitioners and look at data from institutions that lasted centuries.",tags:["consistency","habits","systems"],img:"https://picsum.photos/seed/p1/800/480",featured:true},
      {id:2,title:"From Paper to Prototype: A Founder's Story",category:"startup",author:"Elena Petrova",lead:"A founder from Tashkent on building under resource constraints.",body:"This interview follows a founder who launched a fintech startup with modest resources. We document their product decisions, pivots, and the ways they used design constraints to create stronger user experiences.",tags:["founder","startup","tashkent"],img:"https://picsum.photos/seed/p2/800/480",featured:true},
      {id:3,title:"The Hidden Economics of Everyday Design",category:"economics",author:"Aisha Rahmonova",lead:"Why designers who understand incentives create far better products.",body:"Economics and design intersect in surprising ways. This feature explores how price signals, default settings, and small nudges can change behaviour, sometimes with outsized impact.",tags:["economics","design","nudges"],img:"https://picsum.photos/seed/p3/800/480",featured:false},
      {id:4,title:"Small Habits, Big Results",category:"opinion",author:"Guest",lead:"Big results come from small daily improvements.",body:"We consider the moral dimensions of habit formation, the role of incentives, and the small-scale policy levers that can encourage better civic behaviour.",tags:["habits","policy","opinion"],img:"https://picsum.photos/seed/p4/800/480",featured:false},
      {id:5,title:"Urban Labs: Rethinking Public Space",category:"design",author:"M. Karimov",lead:"How cities are using experiments to redesign streets and parks.",body:"A tour of municipal pilots and the surprising outcomes they produced when citizens were given more agency.",tags:["urban","design","cities"],img:"https://picsum.photos/seed/p5/800/480",featured:false},
      {id:6,title:"Currency Choices and Everyday Trade",category:"economics",author:"L. Begim",lead:"How payment methods shape small businesses.",body:"From cash to mobile wallets, the choice of payment technology changes pricing, trust, and speed ‚Äî with real consequences for micro-entrepreneurs.",tags:["currency","payments","economics"],img:"https://picsum.photos/seed/p6/800/480",featured:false},
      {id:7,title:"The Designer's Toolkit for Persuasion",category:"design",author:"R. Aziz",lead:"Ethical persuasion for product people.",body:"A practical guide to nudges, defaults, and feedback loops that respect autonomy while improving outcomes.",tags:["nudges","design","ethics"],img:"https://picsum.photos/seed/p7/800/480",featured:false},
      {id:8,title:"Scaling With Constraints",category:"startup",author:"N. Timur",lead:"How limitations can be a startup's secret weapon.",body:"Startups often treat constraints as problems ‚Äî but constraints can force focus, prioritisation, and creative workarounds that later become competitive moats.",tags:["startup","constraints","scale"],img:"https://picsum.photos/seed/p8/800/480",featured:false},
      {id:9,title:"Data, Democracy, and Design",category:"innovation",author:"E. Petrova",lead:"Building civic tech that citizens trust.",body:"We examine projects that bridged civic participation with human-centered design, and where they failed or succeeded.",tags:["civic","data","design"],img:"https://picsum.photos/seed/p9/800/480",featured:false},
      {id:10,title:"Behavioral Nudges in Policy",category:"economics",author:"T. Sattarov",lead:"Small changes in policy with big effects.",body:"Examples of low-cost policy interventions that altered population behaviour without heavy-handed regulation.",tags:["policy","nudges","economics"],img:"https://picsum.photos/seed/p10/800/480",featured:false},
      {id:11,title:"Why Local Networks Matter",category:"opinion",author:"Community Voice",lead:"The power of neighbourhood economies.",body:"Local networks of trust and barter sustain livelihoods in ways mainstream markets don't capture.",tags:["local","opinion","community"],img:"https://picsum.photos/seed/p11/800/480",featured:false}
    ];

    // Levenshtein for fuzzy word matching
    function levenshtein(a,b){
      if(a===b) return 0;
      const al=a.length, bl=b.length;
      if(al===0) return bl; if(bl===0) return al;
      const row = Array(bl+1).fill(0).map((_,i)=>i);
      for(let i=1;i<=al;i++){
        let prev = i;
        for(let j=1;j<=bl;j++){
          const tmp = row[j];
          const cost = a[i-1]===b[j-1]?0:1;
          row[j] = Math.min(row[j]+1, prev+1, row[j-1]+cost);
          prev = tmp;
        }
      }
      return row[bl];
    }
    function fuzzyMatchWord(query, word){
      query = (query||'').toLowerCase(); word = (word||'').toLowerCase();
      if(!query || !word) return false;
      if(word.includes(query)) return true;
      const d = levenshtein(query, word);
      const threshold = Math.max(1, Math.floor(Math.min(query.length, word.length)/3));
      return d <= threshold;
    }
    function articleMatchesQuery(article, q){
      if(!q) return true;
      q = q.trim().toLowerCase();
      const tokens = q.split(/\s+/).filter(Boolean);
      return tokens.every(tok => {
        if(article.title.toLowerCase().includes(tok)) return true;
        if(article.lead.toLowerCase().includes(tok)) return true;
        if(article.author.toLowerCase().includes(tok)) return true;
        if(article.category.toLowerCase().includes(tok)) return true;
        if(article.tags.some(t=>t.toLowerCase().includes(tok))) return true;
        const words = (article.title + ' ' + article.lead + ' ' + article.tags.join(' ')).split(/\W+/).filter(Boolean);
        return words.some(w=>fuzzyMatchWord(tok,w));
      });
    }

    // Rendering helpers
    const heroGrid = document.getElementById('hero-grid');
    const listEl = document.getElementById('articles-list');
    const resultCountEl = document.getElementById('result-count');

    function renderHeroGrid(){
      heroGrid.innerHTML = '';
      const featured = ARTICLES.filter(a=>a.featured).slice(0,4);
      featured.forEach(a=>{
        const el = document.createElement('div'); el.className='feat-card';
        el.innerHTML = ''
          + '<img src="'+a.img+'" alt="'+a.title+'" style="width:100%;height:120px;object-fit:cover;border-radius:4px">'
          + '<h3>'+a.title+'</h3>'
          + '<p class="muted">'+a.lead+'</p>'
          + '<div style="margin-top:10px"><button class="open-article" data-idx="'+a.id+'">Read ‚Üí</button></div>';
        heroGrid.appendChild(el);
      });
    }

    function renderList({query='',category='all',mode='featured'}){
      listEl.innerHTML='';
      let results = ARTICLES.slice();
      if(category && category!=='all') results = results.filter(a=>a.category===category);
      if(query) results = results.filter(a=>articleMatchesQuery(a,query));
      if(mode==='latest') results = results.sort((a,b)=>b.id-a.id);
      else results = results.sort((a,b)=> (b.featured?1:0) - (a.featured?1:0) || b.id - a.id);

      if(results.length===0){
        listEl.innerHTML = '<div style="grid-column:1/-1;padding:18px;border:1px dashed var(--border);border-radius:6px;color:var(--muted)">No articles matched ‚Äî try simpler words or check categories.</div>';
        resultCountEl.textContent = 0;
        return;
      }

      results.forEach(article=>{
        const el = document.createElement('article');
        el.className='card';
        el.innerHTML = ''
          + '<div class="thumb" style="background-image:url('+article.img+');background-size:cover;background-position:center"></div>'
          + '<div style="flex:1">'
          +   '<div style="display:flex;gap:8px;align-items:center;margin-bottom:6px">'
          +     '<div class="muted" style="font-size:12px">'+article.category.toUpperCase()+'</div>'
          +     '<div class="muted" style="font-size:12px">‚Ä¢</div>'
          +     '<div class="muted" style="font-size:12px">'+article.author+'</div>'
          +   '</div>'
          +   '<h4>'+article.title+'</h4>'
          +   '<p class="muted">'+article.lead+'</p>'
          +   '<div style="margin-top:8px;display:flex;gap:8px;align-items:center">'
          +     '<button class="open-article" data-idx="'+article.id+'">Read</button>'
          +     '<button class="share-btn" data-id="'+article.id+'">Share</button>'
          +   '</div>'
          + '</div>';
        listEl.appendChild(el);
      });

      resultCountEl.textContent = results.length;
    }

    // initial render
    renderHeroGrid();
    renderList({query:'',category:'all',mode:'featured'});

    // UI interactions
    let activeCategory = 'all';
    let activeMode = 'featured';

    function setActiveCategory(cat){
      activeCategory = cat;
      document.querySelectorAll('.cat-btn').forEach(b=>b.classList.toggle('active', b.dataset.cat===cat));
      renderList({query:document.getElementById('search').value,category:activeCategory,mode:activeMode});
    }
    document.querySelectorAll('.cat-btn').forEach(btn=>{
      btn.addEventListener('click',e=>{
        const cat = btn.dataset.cat || 'all';
        setActiveCategory(cat);
      });
    });

    document.getElementById('btn-featured').addEventListener('click',()=>{
      activeMode='featured';
      document.getElementById('btn-featured').classList.add('active');
      document.getElementById('btn-latest').classList.remove('active');
      renderList({query:document.getElementById('search').value,category:activeCategory,mode:activeMode});
    });
    document.getElementById('btn-latest').addEventListener('click',()=>{
      activeMode='latest';
      document.getElementById('btn-latest').classList.add('active');
      document.getElementById('btn-featured').classList.remove('active');
      renderList({query:document.getElementById('search').value,category:activeCategory,mode:activeMode});
    });

    const input = document.getElementById('search');
    const searchBtn = document.getElementById('search-btn');
    let searchTimer = null;
    function runSearch(){
      const q = input.value.trim();
      renderList({query:q,category:activeCategory,mode:activeMode});
    }
    input.addEventListener('input',()=>{
      clearTimeout(searchTimer);
      searchTimer = setTimeout(runSearch,150);
    });
    searchBtn.addEventListener('click',runSearch);
    input.addEventListener('keydown',e=>{ if(e.key==='Enter'){ e.preventDefault(); runSearch(); } });

    document.body.addEventListener('click',e=>{
      const open = e.target.closest('.open-article');
      if(open){
        const idx = Number(open.dataset.idx);
        openArticle(idx);
      }
      const share = e.target.closest('.share-btn');
      if(share){
        const id = Number(share.dataset.id);
        const a = ARTICLES.find(x=>x.id===id);
        if(a){
          const url = window.location.href.split('#')[0] + '#article=' + a.id;
          navigator.clipboard?.writeText(url).then(()=>{ alert('Link copied to clipboard') }).catch(()=>{ prompt('Copy link', url); });
        }
      }
    });

    // reader and deep-link
    const reader = document.getElementById('reader');
    const readerContent = document.getElementById('reader-content');
    document.getElementById('reader-close').addEventListener('click',closeReader);
    reader.addEventListener('click',e=>{ if(e.target===reader) closeReader(); });

    function openArticle(id){
      const a = ARTICLES.find(x=>x.id===id);
      if(!a) return;
      readerContent.innerHTML = ''
        + '<h1>'+a.title+'</h1>'
        + '<div class="meta">'+a.author+' ‚Ä¢ '+a.category.toUpperCase()+'</div>'
        + '<img src="'+a.img+'" alt="'+a.title+'" style="width:100%;height:auto;margin:18px 0;border-radius:6px">'
        + '<p>'+a.body+'</p>'
        + '<div style="margin-top:14px;display:flex;gap:8px">'
        +   '<button id="reader-share">Copy link</button>'
        +   '<button id="reader-open">Open original</button>'
        + '</div>';
      reader.classList.add('show');
      reader.setAttribute('aria-hidden','false');
      document.getElementById('reader-share').addEventListener('click',()=>{
        const url = window.location.href.split('#')[0] + '#article=' + a.id;
        navigator.clipboard?.writeText(url).then(()=>alert('Link copied to clipboard'));
      });
      document.getElementById('reader-open').addEventListener('click',()=>{ alert('This is a static demo ‚Äî original article not available.'); });
      history.replaceState(null,'', '#article=' + a.id);
    }
    function closeReader(){
      reader.classList.remove('show');
      reader.setAttribute('aria-hidden','true');
      history.replaceState(null,'',' ');
    }

    window.addEventListener('load', ()=>{
      const h = location.hash;
      if(h && h.startsWith('#article=')){
        const id = Number(h.split('=')[1]);
        if(Number.isFinite(id)) openArticle(id);
      }
    });

    document.querySelectorAll('.nav-link').forEach(link=>{
  link.addEventListener('click', e=>{
    const key = link.dataset.link;
    if(!key) return; // allow normal links
    e.preventDefault();
    if(key==='front') window.scrollTo({top:0, behavior:'smooth'});
    else if(key==='features') document.getElementById('hero-hero').scrollIntoView({behavior:'smooth'});
    else if(key==='opinion') setActiveCategory('opinion');
  });
});

    document.getElementById('side-subscribe').addEventListener('submit',e=>{
      e.preventDefault();
      const email = document.getElementById('sub-email').value;
      if(!email) return alert('Please enter email');
      alert('Thanks! ' + email + ' is added to demo subscription list (static site).');
      document.getElementById('sub-email').value='';
    });
  </script>
  <!-- ===================== FOOTER ===================== -->
<footer class="site-footer">
  <div class="footer-container">
    <div class="footer-column">
      <h2 class="footer-logo">Unicorner Times</h2>
      <p class="footer-desc">Exploring ideas that shape the intersection of economics, design, and innovation.</p>
      <p class="footer-location">üìç Tashkent, Uzbekistan</p>
    </div>

    <div class="footer-column">
      <h3>Explore</h3>
      <ul>
        <li><a href="https://unicorner.uz/about">About</a></li>
        <li><a href="https://blog.unicorner.uz">Careers</a></li>
        <li><a href="https://blog.unicorner.uz/authors">Authors</a></li>
        <li><a href="https://publish.unicorner.uz">Contact</a></li>
      </ul>
    </div>

    <div class="footer-column">
      <h3>Topics</h3>
      <ul>
        <li><a href="#">Business</a></li>
        <li><a href="#">Design</a></li>
        <li><a href="#">Innovation</a></li>
        <li><a href="#">Culture</a></li>
      </ul>
    </div>

    <div class="footer-column">
      <h3>Newsletter</h3>
      <p>Stay updated with Unicorner‚Äôs weekly digest on startups and innovation.</p>
      <form id="newsletter-form">
        <input type="email" id="newsletter-email" placeholder="Enter your email" required>
        <button type="submit">Subscribe</button>
      </form>
      <p id="thankyou-msg" class="thankyou-msg"></p>
    </div>
  </div>

  <div class="footer-bottom">
    <p>¬© 2025 Unicorner Media. Built with purpose in Uzbekistan. All rights reserved.</p>
    <div class="footer-socials">
      <a href="https://t.me/unicorner_times" target="_blank">Telegram</a> ¬∑
      <a href="https://linkedin.com" target="_blank">LinkedIn</a> ¬∑
      <a href="https://github.com" target="_blank">GitHub</a> ¬∑
      <a href="https://x.com" target="_blank">X</a>
    </div>
  </div>
</footer>

<!-- ===================== FOOTER STYLES ===================== -->
<style>
.site-footer {
  border-top: 1px solid #ddd;
  background: #fff;
  color: #222;
  padding: 60px 20px 30px;
  font-family: "Georgia", serif;
}
.footer-container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 2rem;
  max-width: 1100px;
  margin: 0 auto 40px;
}
.footer-logo {
  font-family: "Times New Roman", serif;
  font-size: 1.6rem;
  margin-bottom: 0.4rem;
}
.footer-desc {
  color: #555;
  font-size: 0.95rem;
  line-height: 1.5;
}
.footer-location {
  font-size: 0.9rem;
  color: #777;
  margin-top: 0.8rem;
}
.footer-column h3 {
  font-size: 1.1rem;
  margin-bottom: 0.8rem;
  border-bottom: 1px solid #ddd;
  display: inline-block;
  padding-bottom: 4px;
}
.footer-column ul {
  list-style: none;
  padding: 0;
  margin: 0;
}
.footer-column ul li {
  margin: 6px 0;
}
.footer-column ul li a {
  color: #333;
  text-decoration: none;
  font-size: 0.95rem;
  transition: color 0.2s;
}
.footer-column ul li a:hover {
  color: #000;
  text-decoration: underline;
}
.footer-column form {
  display: flex;
  gap: 8px;
  margin-top: 10px;
}
.footer-column input {
  flex: 1;
  padding: 8px 10px;
  border: 1px solid #ccc;
  font-size: 0.95rem;
}
.footer-column button {
  background: #111;
  color: white;
  border: none;
  padding: 8px 12px;
  cursor: pointer;
  transition: background 0.3s;
}
.footer-column button:hover {
  background: #333;
}
.footer-bottom {
  text-align: center;
  border-top: 1px solid #ddd;
  padding-top: 20px;
  font-size: 0.9rem;
  color: #555;
}
.footer-socials {
  margin-top: 8px;
}
.footer-socials a {
  color: #444;
  text-decoration: none;
  font-weight: 500;
  transition: color 0.3s;
}
.footer-socials a:hover {
  color: #000;
}
.thankyou-msg {
  color: green;
  font-size: 0.9rem;
  margin-top: 8px;
  display: none;
}
@media (max-width: 700px) {
  .footer-column form {
    flex-direction: column;
  }
  .footer-column button {
    width: 100%;
  }
}
</style>
<script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
<!-- ===================== FOOTER SCRIPT ===================== -->
<script>
document.getElementById("newsletter-form").addEventListener("submit", function(e) {
  e.preventDefault();
  const emailInput = document.getElementById("newsletter-email");
  const msg = document.getElementById("thankyou-msg");
  const email = emailInput.value.trim();

  if (email) {
    let subscribers = JSON.parse(localStorage.getItem("unicorner_subscribers")) || [];
    subscribers.push(email);
    localStorage.setItem("unicorner_subscribers", JSON.stringify(subscribers));
    msg.textContent = "‚úÖ Thank you for subscribing!";
    msg.style.display = "block";
    emailInput.value = "";
  }
});

  
  // üîë YOUR KEYS
  const PUBLIC_KEY = "YOUR_PUBLIC_KEY";
  const SERVICE_ID = "YOUR_SERVICE_ID";
  const TEMPLATE_ID = "YOUR_TEMPLATE_ID";

  emailjs.init(PUBLIC_KEY);

  const popup = document.getElementById('signup-popup');
  const form = document.getElementById('signup-form');
  const profileIcon = document.getElementById('profile-icon');
  const profileInfo = document.getElementById('profile-info');

  // üîπ Popup birinchi ochilganda chiqadi (faqat foydalanuvchi hali sign up qilmagan bo‚Äòlsa)
  window.addEventListener('load', () => {
    const savedUser = localStorage.getItem('user');
    if (!savedUser) popup.style.display = 'flex';
    else showProfile(JSON.parse(savedUser));
  });

  // üîπ Form yuborilganda
  form.addEventListener('submit', function(e) {
    e.preventDefault();

    const firstName = document.getElementById('firstName').value.trim();
    const lastName = document.getElementById('lastName').value.trim();
    const email = document.getElementById('email').value.trim();

    // Email yuborish
    emailjs.send(SERVICE_ID, TEMPLATE_ID, {
      name: firstName + " " + lastName,
      email: email
    }).then(() => {
      alert("‚úÖ Welcome email sent!");
      const user = { firstName, lastName, email };
      localStorage.setItem('user', JSON.stringify(user));
      popup.style.display = 'none';
      showProfile(user);
    }, (error) => {
      alert("‚ùå Error: " + JSON.stringify(error));
    });
  });

  // üîπ Profilni ko‚Äòrsatish
  function showProfile(user) {
    document.getElementById('userName').textContent = user.firstName + " " + user.lastName;
    document.getElementById('userEmail').textContent = user.email;
  }

  // üîπ Profil icon bosilganda ma‚Äôlumotlarni ko‚Äòrsatish / yopish
  profileIcon.addEventListener('click', () => {
    profileInfo.style.display = profileInfo.style.display === 'block' ? 'none' : 'block';
  });
</script>
</body>
</html>
